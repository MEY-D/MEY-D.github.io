(()=>{function i(){let o=document.querySelector("#toc-list");if(!o)return;o.querySelectorAll(" li > ul").forEach(t=>{t.parentElement.classList.add("toc-collapsed")});let a=document.querySelectorAll("h2, h3"),n=new IntersectionObserver(t=>{t.forEach(s=>{if(!s.isIntersecting)return;let r=s.target.id;if(!r)return;o.querySelectorAll("li").forEach(e=>e.classList.remove("toc-active"));let l=o.querySelector(`a[href="#${r}"]`);if(l){let e=l.closest("li");e&&(e.classList.add("toc-active"),e.classList.remove("toc-collapsed"),e.classList.add("toc-expanded"),e.parentElement.querySelectorAll(":scope > li").forEach(c=>{c!==e&&(c.classList.remove("toc-expanded"),c.classList.add("toc-collapsed"))}))}})},{rootMargin:"0px 0px -80% 0px",threshold:.1});a.forEach(t=>n.observe(t))}document.addEventListener("DOMContentLoaded",()=>{i()});})();
